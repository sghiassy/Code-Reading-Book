<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Jan 31 12:38:41 CET 2002 -->
<TITLE>
Cocoon API: Class  Main
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../javadoc.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/apache/cocoon/Cocoon.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/apache/cocoon/Notification.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Main.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.cocoon</FONT>
<BR>
Class  Main</H2>
<PRE>
java.lang.Object
  |
  +--<B>org.apache.cocoon.Main</B>
</PRE>
<HR>
<DL>
<DT>public class <B>Main</B><DT>extends java.lang.Object</DL>

<P>
Command line entry point.
<P>
<DL>
<DT><B>Version: </B><DD>CVS $Revision: 1.12 $ $Date: 2002/01/22 00:17:11 $</DD>
<DT><B>Author: </B><DD><a href="mailto:stefano@apache.org">Stefano Mazzocchi</a></DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#ACCEPT_OPT">ACCEPT_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#AGENT_OPT">AGENT_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#BROKEN_LINK_FILE">BROKEN_LINK_FILE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#CONFIG_FILE">CONFIG_FILE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#CONTEXT_DIR_OPT">CONTEXT_DIR_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#DEFAULT_ACCEPT">DEFAULT_ACCEPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#DEFAULT_USER_AGENT">DEFAULT_USER_AGENT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#DEST_DIR_OPT">DEST_DIR_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#FOLLOW_LINKS_OPT">FOLLOW_LINKS_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#HELP_OPT">HELP_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#LOG_KIT_OPT">LOG_KIT_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#LOG_LEVEL_OPT">LOG_LEVEL_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#LOGGER_OPT">LOGGER_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;org.apache.avalon.excalibur.cli.CLOptionDescriptor[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#OPTIONS">OPTIONS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#URI_FILE">URI_FILE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#VERSION_OPT">VERSION_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#WORK_DIR_OPT">WORK_DIR_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#XSP_OPT">XSP_OPT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#Main(org.apache.cocoon.Cocoon, java.io.File, java.io.File, java.io.File)">Main</A></B>(<A HREF="../../../org/apache/cocoon/Cocoon.html">Cocoon</A>&nbsp;cocoon,
     java.io.File&nbsp;context,
     java.io.File&nbsp;destDir,
     java.io.File&nbsp;brokenLinks)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the Main class</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#getClassPath(java.lang.String)">getClassPath</A></B>(java.lang.String&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This builds the important ClassPath used by this class.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#getLinks(java.lang.String, java.util.Map)">getLinks</A></B>(java.lang.String&nbsp;deparameterizedURI,
         java.util.Map&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Samples an URI for its links.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#getPage(java.lang.String, java.util.Map, java.util.Map, java.io.OutputStream)">getPage</A></B>(java.lang.String&nbsp;deparameterizedURI,
        java.util.Map&nbsp;parameters,
        java.util.Map&nbsp;links,
        java.io.OutputStream&nbsp;stream)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes an URI for its content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#getType(java.lang.String, java.util.Map)">getType</A></B>(java.lang.String&nbsp;deparameterizedURI,
        java.util.Map&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Analyze the type of content for an URI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <code>main</code> method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#process(java.util.Collection, boolean)">process</A></B>(java.util.Collection&nbsp;uris,
        boolean&nbsp;xspOnly)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process the URI list and process them all independently.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#processFile(java.lang.String, java.util.List)">processFile</A></B>(java.lang.String&nbsp;filename,
            java.util.List&nbsp;uris)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>processFile</code> method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#processURI(java.lang.String)">processURI</A></B>(java.lang.String&nbsp;uri)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes the given URI and return all links. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#processXSP(java.lang.String)">processXSP</A></B>(java.lang.String&nbsp;uri)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process a single XSP file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#recursivelyProcessXSP(java.io.File, java.io.File)">recursivelyProcessXSP</A></B>(java.io.File&nbsp;contextDir,
                      java.io.File&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recurse the directory hierarchy and process the XSP's.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#translateURI(java.lang.String)">translateURI</A></B>(java.lang.String&nbsp;uri)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Translate an URI into a file name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#tree(int)">tree</A></B>(int&nbsp;level)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate the string for a tree in ascii art for a tree view log output.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/cocoon/Main.html#warmup()">warmup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Warms up the engine by accessing the root.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="HELP_OPT"><!-- --></A><H3>
HELP_OPT</H3>
<PRE>
protected static final int <B>HELP_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="VERSION_OPT"><!-- --></A><H3>
VERSION_OPT</H3>
<PRE>
protected static final int <B>VERSION_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="LOG_KIT_OPT"><!-- --></A><H3>
LOG_KIT_OPT</H3>
<PRE>
protected static final int <B>LOG_KIT_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="LOGGER_OPT"><!-- --></A><H3>
LOGGER_OPT</H3>
<PRE>
protected static final int <B>LOGGER_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="LOG_LEVEL_OPT"><!-- --></A><H3>
LOG_LEVEL_OPT</H3>
<PRE>
protected static final int <B>LOG_LEVEL_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="CONTEXT_DIR_OPT"><!-- --></A><H3>
CONTEXT_DIR_OPT</H3>
<PRE>
protected static final int <B>CONTEXT_DIR_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="DEST_DIR_OPT"><!-- --></A><H3>
DEST_DIR_OPT</H3>
<PRE>
protected static final int <B>DEST_DIR_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="WORK_DIR_OPT"><!-- --></A><H3>
WORK_DIR_OPT</H3>
<PRE>
protected static final int <B>WORK_DIR_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="XSP_OPT"><!-- --></A><H3>
XSP_OPT</H3>
<PRE>
protected static final int <B>XSP_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="AGENT_OPT"><!-- --></A><H3>
AGENT_OPT</H3>
<PRE>
protected static final int <B>AGENT_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="ACCEPT_OPT"><!-- --></A><H3>
ACCEPT_OPT</H3>
<PRE>
protected static final int <B>ACCEPT_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="URI_FILE"><!-- --></A><H3>
URI_FILE</H3>
<PRE>
protected static final int <B>URI_FILE</B></PRE>
<DL>
</DL>
<HR>

<A NAME="FOLLOW_LINKS_OPT"><!-- --></A><H3>
FOLLOW_LINKS_OPT</H3>
<PRE>
protected static final int <B>FOLLOW_LINKS_OPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="CONFIG_FILE"><!-- --></A><H3>
CONFIG_FILE</H3>
<PRE>
protected static final int <B>CONFIG_FILE</B></PRE>
<DL>
</DL>
<HR>

<A NAME="BROKEN_LINK_FILE"><!-- --></A><H3>
BROKEN_LINK_FILE</H3>
<PRE>
protected static final int <B>BROKEN_LINK_FILE</B></PRE>
<DL>
</DL>
<HR>

<A NAME="DEFAULT_USER_AGENT"><!-- --></A><H3>
DEFAULT_USER_AGENT</H3>
<PRE>
protected static final java.lang.String <B>DEFAULT_USER_AGENT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="DEFAULT_ACCEPT"><!-- --></A><H3>
DEFAULT_ACCEPT</H3>
<PRE>
protected static final java.lang.String <B>DEFAULT_ACCEPT</B></PRE>
<DL>
</DL>
<HR>

<A NAME="OPTIONS"><!-- --></A><H3>
OPTIONS</H3>
<PRE>
protected static final org.apache.avalon.excalibur.cli.CLOptionDescriptor[] <B>OPTIONS</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Main(org.apache.cocoon.Cocoon, java.io.File, java.io.File, java.io.File)"><!-- --></A><H3>
Main</H3>
<PRE>
public <B>Main</B>(<A HREF="../../../org/apache/cocoon/Cocoon.html">Cocoon</A>&nbsp;cocoon,
            java.io.File&nbsp;context,
            java.io.File&nbsp;destDir,
            java.io.File&nbsp;brokenLinks)</PRE>
<DL>
<DD>Creates the Main class<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cocoon</CODE> - a <code>Cocoon</code> instance<DD><CODE>context</CODE> - a <code>File</code> for the context directory<DD><CODE>destDir</CODE> - a <code>File</code> for the destination directory</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="processFile(java.lang.String, java.util.List)"><!-- --></A><H3>
processFile</H3>
<PRE>
public static void <B>processFile</B>(java.lang.String&nbsp;filename,
                               java.util.List&nbsp;uris)</PRE>
<DL>
<DD><code>processFile</code> method.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filename</CODE> - a <code>String</code> value<DD><CODE>uris</CODE> - a <code>List</code> of URIs</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)
                 throws java.lang.Exception</PRE>
<DL>
<DD>The <code>main</code> method.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>args</CODE> - a <code>String[]</code> of arguments<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="warmup()"><!-- --></A><H3>
warmup</H3>
<PRE>
public void <B>warmup</B>()
            throws java.lang.Exception</PRE>
<DL>
<DD>Warms up the engine by accessing the root.<DD><DL>
<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="process(java.util.Collection, boolean)"><!-- --></A><H3>
process</H3>
<PRE>
public int <B>process</B>(java.util.Collection&nbsp;uris,
                   boolean&nbsp;xspOnly)
            throws java.lang.Exception</PRE>
<DL>
<DD>Process the URI list and process them all independently.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uris</CODE> - a <code>Collection</code> of URIs<DD><CODE>xspOnly</CODE> - a <code>boolean</code> denoting to process XSP only<DT><B>Returns:</B><DD>an <code>int</code> value with the number of links processed<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="recursivelyProcessXSP(java.io.File, java.io.File)"><!-- --></A><H3>
recursivelyProcessXSP</H3>
<PRE>
public void <B>recursivelyProcessXSP</B>(java.io.File&nbsp;contextDir,
                                  java.io.File&nbsp;file)</PRE>
<DL>
<DD>Recurse the directory hierarchy and process the XSP's.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contextDir</CODE> - a <code>File</code> value for the context directory<DD><CODE>file</CODE> - a <code>File</code> value for a single XSP file or a directory to scan recursively</DL>
</DD>
</DL>
<HR>

<A NAME="processXSP(java.lang.String)"><!-- --></A><H3>
processXSP</H3>
<PRE>
public void <B>processXSP</B>(java.lang.String&nbsp;uri)
                throws java.lang.Exception</PRE>
<DL>
<DD>Process a single XSP file<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - a <code>String</code> pointing to an xsp URI<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="processURI(java.lang.String)"><!-- --></A><H3>
processURI</H3>
<PRE>
public java.util.Collection <B>processURI</B>(java.lang.String&nbsp;uri)
                                throws java.lang.Exception</PRE>
<DL>
<DD>Processes the given URI and return all links. The algorithm is the following:

 <ul>
  <li>file name for the URI is generated. URI MIME type is checked for
      consistency with the URI and, if the extension is inconsistent
      or absent, the file name is changed</li>
  <li>the link view of the given URI is called and the file names for linked
      resources are generated and stored.</li>
  <li>for each link, absolute file name is translated to relative path.</li>
  <li>after the complete list of links is translated, the link-translating
      view of the resource is called to obtain a link-translated version
      of the resource with the given link map</li>
  <li>list of absolute URI is returned, for every URI which is not yet
      present in list of all translated URIs</li>
 </ul><DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - a <code>String</code> URI to process<DT><B>Returns:</B><DD>a <code>Collection</code> containing all links found<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="translateURI(java.lang.String)"><!-- --></A><H3>
translateURI</H3>
<PRE>
public java.lang.String <B>translateURI</B>(java.lang.String&nbsp;uri)
                              throws java.lang.Exception</PRE>
<DL>
<DD>Translate an URI into a file name.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - a <code>String</code> value to map<DT><B>Returns:</B><DD>a <code>String</code> vlaue for the file<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="tree(int)"><!-- --></A><H3>
tree</H3>
<PRE>
protected java.lang.String <B>tree</B>(int&nbsp;level)</PRE>
<DL>
<DD>Generate the string for a tree in ascii art for a tree view log output.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>level</CODE> - of nesting<DT><B>Returns:</B><DD>a <code>String</code> value to print the levels requested</DL>
</DD>
</DL>
<HR>

<A NAME="getLinks(java.lang.String, java.util.Map)"><!-- --></A><H3>
getLinks</H3>
<PRE>
protected java.util.Collection <B>getLinks</B>(java.lang.String&nbsp;deparameterizedURI,
                                        java.util.Map&nbsp;parameters)
                                 throws java.lang.Exception</PRE>
<DL>
<DD>Samples an URI for its links.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>deparameterizedURI</CODE> - a <code>String</code> value of an URI to start sampling from<DD><CODE>parameters</CODE> - a <code>Map</code> value containing request parameters<DT><B>Returns:</B><DD>a <code>Collection</code> of links<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getPage(java.lang.String, java.util.Map, java.util.Map, java.io.OutputStream)"><!-- --></A><H3>
getPage</H3>
<PRE>
protected java.lang.String <B>getPage</B>(java.lang.String&nbsp;deparameterizedURI,
                                   java.util.Map&nbsp;parameters,
                                   java.util.Map&nbsp;links,
                                   java.io.OutputStream&nbsp;stream)
                            throws java.lang.Exception</PRE>
<DL>
<DD>Processes an URI for its content.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>deparameterizedURI</CODE> - a <code>String</code> value of an URI to start sampling from<DD><CODE>parameters</CODE> - a <code>Map</code> value containing request parameters<DD><CODE>links</CODE> - a <code>Map</code> value<DD><CODE>stream</CODE> - an <code>OutputStream</code> to write the content to<DT><B>Returns:</B><DD>a <code>String</code> value for the content<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getType(java.lang.String, java.util.Map)"><!-- --></A><H3>
getType</H3>
<PRE>
protected java.lang.String <B>getType</B>(java.lang.String&nbsp;deparameterizedURI,
                                   java.util.Map&nbsp;parameters)
                            throws java.lang.Exception</PRE>
<DL>
<DD>Analyze the type of content for an URI.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>deparameterizedURI</CODE> - a <code>String</code> value to analyze<DD><CODE>parameters</CODE> - a <code>Map</code> value for the request<DT><B>Returns:</B><DD>a <code>String</code> value denoting the type of content<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getClassPath(java.lang.String)"><!-- --></A><H3>
getClassPath</H3>
<PRE>
protected static java.lang.String <B>getClassPath</B>(java.lang.String&nbsp;context)</PRE>
<DL>
<DD>This builds the important ClassPath used by this class.  It
 does so in a neutral way.
 It iterates in alphabetical order through every file in the
 lib directory and adds it to the classpath.

 Also, we add the files to the ClassLoader for the Cocoon system.
 In order to protect ourselves from skitzofrantic classloaders,
 we need to work with a known one.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - The context path<DT><B>Returns:</B><DD>a <code>String</code> value</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/apache/cocoon/Cocoon.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/apache/cocoon/Notification.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Main.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
Copyright © 1999-2002 Apache Software Foundation. All Rights Reserved.
</BODY>
</HTML>
