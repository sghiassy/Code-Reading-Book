<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Jan 31 12:38:41 CET 2002 -->
<TITLE>
Cocoon API: Class  LangSelect
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../javadoc.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/cocoon/acting/HttpHeaderAction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/cocoon/acting/LocaleAction.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LangSelect.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.cocoon.acting</FONT>
<BR>
Class  LangSelect</H2>
<PRE>
java.lang.Object
  |
  +--<B>org.apache.cocoon.acting.LangSelect</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/apache/cocoon/acting/Action.html">Action</A>, org.apache.avalon.framework.component.Component, org.apache.avalon.framework.configuration.Configurable, org.apache.avalon.framework.thread.ThreadSafe</DD>
</DL>
<HR>
<DL>
<DT>public class <B>LangSelect</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../org/apache/cocoon/acting/Action.html">Action</A>, org.apache.avalon.framework.configuration.Configurable, org.apache.avalon.framework.thread.ThreadSafe</DL>

<P>
LangSelect Action returns two character language code to sitemap.

 Definition in sitemap:
 <pre>
 &lt;map:actions&gt;
                &lt;map:action name="lang_select" src="org.apache.cocoon.acting.LangSelect"/&gt;
 </pre>

 And you use it in following way:

 <pre>
 &lt;map:match pattern="file"&gt;
 &lt;map:act type="lang_select"&gt;
                &lt;map:generate src="file_{lang}.xml"/&gt;
 &lt;/map:act&gt;
 </pre>

 {lang} is substituted with language code.
 eg. if user selects url ../file?lang=en
 then Sitemap engine generates file_en.xml source.


 Creation date: (3.11.2000 14:32:19)
 Modification date: (29.05.2001 0:30:01)
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="fields_inherited_from_class_org.apache.cocoon.acting.Action"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface org.apache.cocoon.acting.<A HREF="../../../../org/apache/cocoon/acting/Action.html">Action</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/cocoon/acting/Action.html#ROLE">ROLE</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/cocoon/acting/LangSelect.html#LangSelect()">LangSelect</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cocoon/acting/LangSelect.html#act(org.apache.cocoon.environment.Redirector, org.apache.cocoon.environment.SourceResolver, java.util.Map, java.lang.String, org.apache.avalon.framework.parameters.Parameters)">act</A></B>(<A HREF="../../../../org/apache/cocoon/environment/Redirector.html">Redirector</A>&nbsp;redirector,
    <A HREF="../../../../org/apache/cocoon/environment/SourceResolver.html">SourceResolver</A>&nbsp;resolver,
    java.util.Map&nbsp;objectModel,
    java.lang.String&nbsp;source,
    org.apache.avalon.framework.parameters.Parameters&nbsp;par)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Selects language if it is not set already in objectModel
 Puts lang parameter to session and to objectModel
 if it is not already there.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cocoon/acting/LangSelect.html#configure(org.apache.avalon.framework.configuration.Configuration)">configure</A></B>(org.apache.avalon.framework.configuration.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure this action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cocoon/acting/LangSelect.html#getLang(java.util.Map, org.apache.avalon.framework.parameters.Parameters)">getLang</A></B>(java.util.Map&nbsp;objectModel,
        org.apache.avalon.framework.parameters.Parameters&nbsp;par)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns two character language code by checking environment in following order
 
   Http request has parameter lang
   Http session has parameter lang
   Cookies has parameter lang
   User locales has matching language we are providing
   Otherwise we return default_lang from sitemap or if that is not found then 'en'
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cocoon/acting/LangSelect.html#storeLang(java.util.Map, java.lang.String)">storeLang</A></B>(java.util.Map&nbsp;objectModel,
          java.lang.String&nbsp;lang)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores language code in the session or a cookie</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="LangSelect()"><!-- --></A><H3>
LangSelect</H3>
<PRE>
public <B>LangSelect</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="configure(org.apache.avalon.framework.configuration.Configuration)"><!-- --></A><H3>
configure</H3>
<PRE>
public void <B>configure</B>(org.apache.avalon.framework.configuration.Configuration&nbsp;conf)
               throws org.apache.avalon.framework.configuration.ConfigurationException</PRE>
<DL>
<DD>Configure this action.<DD><DL>
<DT><B>Specified by: </B><DD><CODE>configure</CODE> in interface <CODE>org.apache.avalon.framework.configuration.Configurable</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="act(org.apache.cocoon.environment.Redirector, org.apache.cocoon.environment.SourceResolver, java.util.Map, java.lang.String, org.apache.avalon.framework.parameters.Parameters)"><!-- --></A><H3>
act</H3>
<PRE>
public java.util.Map <B>act</B>(<A HREF="../../../../org/apache/cocoon/environment/Redirector.html">Redirector</A>&nbsp;redirector,
                         <A HREF="../../../../org/apache/cocoon/environment/SourceResolver.html">SourceResolver</A>&nbsp;resolver,
                         java.util.Map&nbsp;objectModel,
                         java.lang.String&nbsp;source,
                         org.apache.avalon.framework.parameters.Parameters&nbsp;par)
                  throws java.lang.Exception</PRE>
<DL>
<DD>Selects language if it is not set already in objectModel
 Puts lang parameter to session and to objectModel
 if it is not already there.<DD><DL>
<DT><B>Specified by: </B><DD><CODE><A HREF="../../../../org/apache/cocoon/acting/Action.html#act(org.apache.cocoon.environment.Redirector, org.apache.cocoon.environment.SourceResolver, java.util.Map, java.lang.String, org.apache.avalon.framework.parameters.Parameters)">act</A></CODE> in interface <CODE><A HREF="../../../../org/apache/cocoon/acting/Action.html">Action</A></CODE></DL>
</DD>
<DD>Following copied from interface: <CODE>org.apache.cocoon.acting.Action</CODE></DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resolver</CODE> - The <code>SourceResolver</code> in charge<DD><CODE>objectModel</CODE> - The <code>Map</code> with object of the
                    calling environment which can be used
                    to select values this controller may need
                    (ie Request, Response).<DD><CODE>source</CODE> - A source <code>String</code> to the Action<DD><CODE>parameters</CODE> - The <code>Parameters</code> for this invocation<DT><B>Returns:</B><DD>Map        The returned <code>Map</code> object with
                    sitemap substitution values which can be used
                    in subsequent elements attributes like src=
                    using a xpath like expression: src="mydir/{myval}/foo"
                    If the return value is null the processing inside
                    the <map:act> element of the sitemap will
                    be skipped.<DT><B>Throws:</B><DD><CODE>java.lang.Exception</CODE> - Indicates something is totally wrong</DL>
</DD>
</DL>
<HR>

<A NAME="getLang(java.util.Map, org.apache.avalon.framework.parameters.Parameters)"><!-- --></A><H3>
getLang</H3>
<PRE>
public static java.lang.String <B>getLang</B>(java.util.Map&nbsp;objectModel,
                                       org.apache.avalon.framework.parameters.Parameters&nbsp;par)</PRE>
<DL>
<DD>Returns two character language code by checking environment in following order
 <ol>
   <li>Http request has parameter lang</li>
   <li>Http session has parameter lang</li>
   <li>Cookies has parameter lang</li>
   <li>User locales has matching language we are providing</li>
   <li>Otherwise we return default_lang from sitemap or if that is not found then 'en'</li>
 </ol><DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objectModel</CODE> - java.util.Map<DD><CODE>par</CODE> - org.apache.avalon.framework.parameter.Parameters<DT><B>Returns:</B><DD>java.lang.String</DL>
</DD>
</DL>
<HR>

<A NAME="storeLang(java.util.Map, java.lang.String)"><!-- --></A><H3>
storeLang</H3>
<PRE>
public void <B>storeLang</B>(java.util.Map&nbsp;objectModel,
                      java.lang.String&nbsp;lang)
               throws java.lang.Exception</PRE>
<DL>
<DD>Stores language code in the session or a cookie<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objectModel</CODE> - java.util.Map<DD><CODE>lang</CODE> - String The language code to store</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/cocoon/acting/HttpHeaderAction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/cocoon/acting/LocaleAction.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LangSelect.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
Copyright © 1999-2002 Apache Software Foundation. All Rights Reserved.
</BODY>
</HTML>
